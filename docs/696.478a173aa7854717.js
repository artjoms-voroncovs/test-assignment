"use strict";(self.webpackChunktest_assignment=self.webpackChunktest_assignment||[]).push([[696],{2696:(W,_,a)=>{a.r(_),a.d(_,{GuestBookModule:()=>K});var l=a(9633);const h=(0,l.PH)("[Guest Book] Create guest invite",(0,l.Ky)()),v=(0,l.Lq)({guestInvites:[]},(0,l.on)(h,(e,n)=>{const o=Object.assign(Object.assign({},n.guestInvite),{id:e.guestInvites.length?e.guestInvites[e.guestInvites.length-1].id+1:0});return Object.assign(Object.assign({},e),{guestInvites:[...e.guestInvites,o]})}));var t=a(5e3),s=a(3075),c=a(7322),Z=a(7531),g=a(9808),C=a(7423);function A(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Oqu(o.getErrorMessage(o.message))}}function G(e,n){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Oqu(o.getErrorMessage(o.author))}}let k=(()=>{class e{constructor(o){this.store=o,this.name=new s.NI(""),this.surname=new s.NI(""),this.email=new s.NI(""),this.message=new s.NI("",[s.kI.required,s.kI.minLength(20)]),this.author=new s.NI("",[s.kI.required]),this.guestBookForm=new s.cw({name:this.name,surname:this.surname,email:this.email,message:this.message,author:this.author})}onSubmit(){this.guestBookForm.valid&&this.store.dispatch(h({guestInvite:this.guestBookForm.value}))}getErrorMessage(o){return o.hasError("required")?"You must enter the value.":o.hasError("minlength")?`Min length is ${o.errors.minlength.requiredLength} letters.`:"Field is invalid."}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-guest-book-form"]],decls:25,vars:3,consts:[[1,"app-guest-book-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"mat-form-field"],["formControlName","name","matInput",""],["formControlName","surname","matInput",""],["formControlName","email","matInput",""],["formControlName","message","matInput",""],[4,"ngIf"],["formControlName","author","matInput",""],["mat-raised-button","","color","primary"]],template:function(o,i){1&o&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(1,"mat-form-field",1),t.TgZ(2,"mat-label"),t._uU(3,"Name"),t.qZA(),t._UZ(4,"input",2),t.qZA(),t.TgZ(5,"mat-form-field",1),t.TgZ(6,"mat-label"),t._uU(7,"Surname"),t.qZA(),t._UZ(8,"input",3),t.qZA(),t.TgZ(9,"mat-form-field",1),t.TgZ(10,"mat-label"),t._uU(11,"Email"),t.qZA(),t._UZ(12,"input",4),t.qZA(),t.TgZ(13,"mat-form-field",1),t.TgZ(14,"mat-label"),t._uU(15,"Message"),t.qZA(),t._UZ(16,"textarea",5),t.YNc(17,A,2,1,"mat-error",6),t.qZA(),t.TgZ(18,"mat-form-field",1),t.TgZ(19,"mat-label"),t._uU(20,"Author"),t.qZA(),t._UZ(21,"input",7),t.YNc(22,G,2,1,"mat-error",6),t.qZA(),t.TgZ(23,"button",8),t._uU(24,"Submit"),t.qZA(),t.qZA()),2&o&&(t.Q6J("formGroup",i.guestBookForm),t.xp6(17),t.Q6J("ngIf",i.message.invalid),t.xp6(5),t.Q6J("ngIf",i.author.invalid))},directives:[s._Y,s.JL,s.sg,c.KE,c.hX,s.Fj,Z.Nt,s.JJ,s.u,g.O5,C.lW,c.TO],styles:[".app-guest-book-form[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;width:100%;margin-bottom:50px}.mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e})();const q=(0,l.ZF)("guest-book"),y=(0,l.P1)(q,e=>e.guestInvites);var u=a(2075),f=a(4847),p=a(8966),N=a(5245);let U=(()=>{class e{constructor(o,i){this.dialogRef=o,this.data=i}close(){this.dialogRef.close()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(p.so),t.Y36(p.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dialog"]],decls:25,vars:6,consts:[[1,"app-dialog-header"],["mat-mini-fab","","mat-button","","color","primary",3,"click"],["mat-dialog-title","",1,"app-dialog-title"],["mat-dialog-subtitle","",1,"app-dialog-subtitle"],["mat-dialog-content",""],[1,"app-post-body"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"button",1),t.NdJ("click",function(){return i.close()}),t.TgZ(2,"mat-icon"),t._uU(3," close "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"h1"),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"div",3),t.TgZ(8,"span"),t._uU(9,"Name, Surname:"),t.qZA(),t.TgZ(10,"h2"),t._uU(11),t.qZA(),t.TgZ(12,"span"),t._uU(13,"Email:"),t.qZA(),t.TgZ(14,"h2"),t._uU(15),t.qZA(),t.TgZ(16,"span"),t._uU(17,"Invite author:"),t.qZA(),t.TgZ(18,"h2"),t._uU(19),t.qZA(),t.qZA(),t.TgZ(20,"div",4),t.TgZ(21,"span"),t._uU(22,"Message:"),t.qZA(),t.TgZ(23,"h2",5),t._uU(24),t.qZA(),t.qZA()),2&o&&(t.xp6(6),t.hij("Guest with id #",i.data.id,""),t.xp6(5),t.AsE(" ",i.data.name," ",i.data.surname,""),t.xp6(4),t.Oqu(i.data.email),t.xp6(4),t.Oqu(i.data.author),t.xp6(5),t.Oqu(i.data.message))},directives:[C.lW,N.Hw,p.uh,p.xY],styles:[".app-dialog-header[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:flex-end}"]}),e})();function I(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Id"),t.qZA())}function w(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",17),t.NdJ("click",function(){const r=t.CHM(o).$implicit;return t.oxw().openDialog(r.id)}),t._uU(1),t.qZA()}if(2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.id)}}function B(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Name"),t.qZA())}function b(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",17),t.NdJ("click",function(){const r=t.CHM(o).$implicit;return t.oxw().openDialog(r.id)}),t._uU(1),t.qZA()}if(2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.name)}}function L(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Surname"),t.qZA())}function F(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",17),t.NdJ("click",function(){const r=t.CHM(o).$implicit;return t.oxw().openDialog(r.id)}),t._uU(1),t.qZA()}if(2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.surname)}}function M(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Email"),t.qZA())}function D(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",17),t.NdJ("click",function(){const r=t.CHM(o).$implicit;return t.oxw().openDialog(r.id)}),t._uU(1),t.qZA()}if(2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.email)}}function Y(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Author"),t.qZA())}function O(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",17),t.NdJ("click",function(){const r=t.CHM(o).$implicit;return t.oxw().openDialog(r.id)}),t._uU(1),t.qZA()}if(2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.author)}}function S(e,n){1&e&&(t.TgZ(0,"th",16),t._uU(1,"Date"),t.qZA())}function J(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"td",17),t.NdJ("click",function(){const r=t.CHM(o).$implicit;return t.oxw().openDialog(r.id)}),t._uU(1),t.ALo(2,"date"),t.qZA()}if(2&e){const o=n.$implicit;t.xp6(1),t.hij("",t.xi3(2,1,o.date,"yyyy-MM-dd")," ")}}function E(e,n){1&e&&t._UZ(0,"tr",18)}function Q(e,n){1&e&&t._UZ(0,"tr",19)}function $(e,n){if(1&e&&(t.TgZ(0,"tr",21),t.TgZ(1,"td",22),t._uU(2),t.qZA(),t.qZA()),2&e){t.oxw(2);const o=t.MAs(5);t.xp6(2),t.hij('No data matching the filter "',o.value,'"')}}function j(e,n){1&e&&(t.TgZ(0,"div"),t.YNc(1,$,3,1,"tr",20),t.qZA())}let R=(()=>{class e{constructor(o,i){this.store=o,this.dialog=i,this.displayedColumns=["id","name","surname","email","author"]}ngOnInit(){this.guestsInvites$=this.store.select(y),this.guestsInvitesSubscription=this.guestsInvites$.subscribe(o=>{this.guestsInvites=o,this.dataSource=new u.by(o),this.dataSource.sort=this.sort})}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnDestroy(){this.guestsInvitesSubscription.unsubscribe()}applyFilter(o){this.dataSource.filter=o.target.value.trim().toLowerCase()}openDialog(o){this.dialog.open(U,{width:"700px",data:this.guestsInvites.find(i=>o===i.id)})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.yh),t.Y36(p.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-guest-list"]],viewQuery:function(o,i){if(1&o&&t.Gf(f.YE,5),2&o){let m;t.iGM(m=t.CRH())&&(i.sort=m.first)}},decls:28,vars:4,consts:[[1,"app-guest-list"],[1,"mat-form-field"],["matInput","","placeholder","Filter","type","text",3,"keyup"],["input",""],["mat-table","","matSort","",1,"mat-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","app-guest-list-mat-cell",3,"click",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","surname"],["matColumnDef","email"],["matColumnDef","author"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"app-guest-list-mat-cell",3,"click"],["mat-header-row",""],["mat-row",""],["class","mat-row",4,"matNoDataRow"],[1,"mat-row"],["colspan","4",1,"math-cell","app-guest-list-no-data-row"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-form-field",1),t.TgZ(2,"mat-label"),t._uU(3,"Filter"),t.qZA(),t.TgZ(4,"input",2,3),t.NdJ("keyup",function(r){return i.applyFilter(r)}),t.qZA(),t.qZA(),t.TgZ(6,"table",4),t.ynx(7,5),t.YNc(8,I,2,0,"th",6),t.YNc(9,w,2,1,"td",7),t.BQk(),t.ynx(10,8),t.YNc(11,B,2,0,"th",6),t.YNc(12,b,2,1,"td",7),t.BQk(),t.ynx(13,9),t.YNc(14,L,2,0,"th",6),t.YNc(15,F,2,1,"td",7),t.BQk(),t.ynx(16,10),t.YNc(17,M,2,0,"th",6),t.YNc(18,D,2,1,"td",7),t.BQk(),t.ynx(19,11),t.YNc(20,Y,2,0,"th",6),t.YNc(21,O,2,1,"td",7),t.BQk(),t.ynx(22,12),t.YNc(23,S,2,0,"th",6),t.YNc(24,J,3,4,"td",7),t.BQk(),t.YNc(25,E,1,0,"tr",13),t.YNc(26,Q,1,0,"tr",14),t.YNc(27,j,2,0,"div",15),t.qZA(),t.qZA()),2&o&&(t.xp6(6),t.Q6J("dataSource",i.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",i.guestsInvites.length))},directives:[c.KE,c.hX,Z.Nt,u.BZ,f.YE,u.w1,u.fO,u.Dz,u.as,u.nj,g.O5,u.ge,f.nU,u.ev,u.XQ,u.Gk,u.Ee],pipes:[g.uU],styles:[".mat-table[_ngcontent-%COMP%]{width:100%}.app-guest-list-no-data-row[_ngcontent-%COMP%]{padding-left:30px}.app-guest-list-mat-cell[_ngcontent-%COMP%]{cursor:pointer}"]}),e})(),H=(()=>{class e{constructor(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:3,vars:0,consts:[[1,"guest-book-component"]],template:function(o,i){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"app-guest-book-form"),t._UZ(2,"app-guest-list"),t.qZA())},directives:[k,R],styles:[".guest-book-component[_ngcontent-%COMP%]{padding:100px 50px 50px}"]}),e})();var T=a(9291);const P=[{path:"",component:H}];let X=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[T.Bz.forChild(P)],T.Bz]}),e})();var z=a(8170);let K=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.ez,s.u5,s.UX,z.q,X,l.Aw.forFeature("guest-book",v)]]}),e})()}}]);